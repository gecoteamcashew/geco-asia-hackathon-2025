def call_bitdeer_chat(model: str, messages: list, temperature: float = 0.3, max_tokens: int = 512):
    if not BITDEER_API_KEY:
        raise RuntimeError("BITDEER_API_KEY environment variable not set.")
    headers = {
        "Authorization": f"Bearer {BITDEER_API_KEY}",
        "Content-Type": "application/json",
    }
    payload = {
        "model": model,
        "messages": messages,
        "max_tokens": max_tokens,
        "temperature": temperature,
        "frequency_penalty": 0,
